<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Deferred Sample</title>
</head>
<body>
    <script src="jquery-2.1.1.min.js"></script>
    <script>
        // Deferred - объект, который представляет асинхронную операцию. Объект хранит несколько функций обратного вызова
        // и является chainable.
        var deferred = $.Deferred();

        // установка функций обратного вызова
        deferred.done(function () { console.log("resloved") }); // успешное завершение операции
        deferred.fail(function () { console.log("failed") }); // не успешное
        deferred.always(function () { console.log("always") }); // выполняется в любом случае

        $(function () {
            $("#btnResolve").click(function () { deferred.resolve(); }); // перевод объекта deferred в состояние resolved - вызов функций добавленных с помощью done
            $("#btnReject").click(function () { deferred.reject(); }); // перевод объекта deferred в состояние rejected - вызов функций добавленных с помощью fail
        });

    </script>

    <input id="btnResolve" type="button" value="Resolve" />
    <input id="btnReject" type="button" value="Reject" />
</body>
</html>
